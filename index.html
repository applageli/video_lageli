<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Encontre o amor Lageli</title>
    <link rel="stylesheet" type="text/css" href="css/lit.css">
    <link rel="stylesheet" type="text/css" href="css/swiper.min.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
</head>
<body>
  <div class="c">
    <div align="right" class="row">
      <div class="1 col"></div>
      <div class="11 col">
        <span id="escondeisso" style="font-family:Product Sans;display: none ">Bem vindo! <span id="botaoSairNome"></span>, </span> <a id="botaoSair" href="javascript: delete localStorage.dados;location.reload()" style="display: none;">sair</a>
      </div>
    </div>
  </div>
  
  <div id="telaLogin" class="c">

    <div align="center" class="row">
      <div class="12 col">
        <img src="img/logo.png" width="200" />
      </div>
    </div>

    <div align="left" class="row">
      <div align="left" class="5 col"></div>
      <div align="left" class="2 col">
        <input type="text" id="txtusuario" placeholder="UsuÃ¡rio do Agely" style="border-radius: 20px;border: none;padding-top: 4px;font-family: Product Sans;font-size: 20px;padding-bottom: 4px;padding-left: 10px;outline: none;" autofocus />
      </div>
      <div align="left" class="5 col"></div>
    </div>

    <div align="left" class="row">
      <div align="left" class="5 col"></div>
      <div align="left" class="2 col">
        <input type="password" id="txtsenha" placeholder="Senha" style="border-radius: 20px;border: none;padding-top: 4px;font-family: Product Sans;font-size: 20px;padding-bottom: 4px;padding-left: 10px;outline: none;" />
      </div>
      <div align="left" class="5 col"></div>
    </div>

    <div align="left" class="row">
      <div align="left" class="5 col"></div>
      <div align="left" class="2 col">
        <button id="btnEntrar" class="btn primary" style="width: 100%;outline: none;cursor: pointer;">entrar</button>
      </div>
      <div align="left" class="5 col"></div>
    </div>

  </div>

  <div id="telaCadastro" class="c" style="display: none">
    
    <div align="center" class="row">
      <div class="12 col">
        <img src="img/logo.png" width="200" />
      </div>
    </div>  

    <div class="row" style="background: #f1f1f0;color: #000;">
      <div class="12 col">
        <h2>Cadastro</h2>
        <p>Cadastre as fotos ou videos que aparecerÃ£o no jogo para cada uma de suas consultoras.</p>
                
        <div class="row">
          <div class="6 col">
            <select id="selectConsultorasCadastro" style="font-family: Product Sans"></select>
          </div>
          <div class="6 col">
            <input type="file" id="arquivoMidia" style="font-family: Product Sans">
          </div>
        </div>

        <table id="tabelaMidias" class="w-100">
          <thead>
            <th>Consultora</th>
            <th>midia 1</th>
            <th>midia 2</th>
            <th>midia 3</th>
            <th></th>
          </thead>
          <tbody></tbody>
        </table>

      </div>
    </div>

  </div>

  <div id="primeiraTela" class="c" style="display: none">

    <div align="center" class="row">
      <div class="12 col">
        <img src="img/logo.png" width="200" />
      </div>
    </div>

    <div class="row">
      <div class="12 col">
        <H3>Selecione a consultora:</H3>
        <select id="selectConsultoras" style="font-family: Product Sans"></select>
      </div>
    </div>

  </div>

  <div id="segundaTela" class="c" style="display: none;">
    
    <div align="center" class="row">
      <div class="12 col">
        <img src="img/logo.png" width="200" />
      </div>
    </div>
    
    <div class="row">
      <div class="12 col">
        <p id="textoJogo">Para jogar clique em um quadrado do quadro abaixo e veja se encontra o <span style="color:#ff5b56;">â¤</span> escondido!</p>
      </div>
    </div>
    
    <div class="row">
      <div class="1 col">        
        <button class="btn primary" id="btn-start-recording">Jogar</button>
      </div>
      <div class="3 col">        
        <button class="btn primary" id="btn-stop-recording" disabled style="display: none">Salvar Jogo</button>
      </div>
      <div class="8 col"></div>        
    </div>
    
    <div align="center" class="row">
      <div id="recebeTotal" align="left" class="12 col">Tentativas: 0</div>
    </div>

    <div id="div_jogo" align="center" class="row">
      <div id="div_jogo_inner" class="12 col">
        
        <div class="row" style="border-spacing: 0;margin: 0;background: #0e0c0d">
          <div align="center" class="1 col"></div>
          <div align="center" class="1 col" style="width: 24px;height: 20px;">A</div>
          <div align="center" class="1 col" style="width: 24px;height: 20px;">B</div>
          <div align="center" class="1 col" style="width: 24px;height: 20px;">C</div>
          <div align="center" class="1 col" style="width: 24px;height: 20px;">D</div>
          <div align="center" class="1 col" style="width: 24px;height: 20px;">E</div>
          <div align="center" class="1 col" style="width: 24px;height: 20px;">F</div>
          <div align="center" class="1 col" style="width: 24px;height: 20px;">G</div>
          <div align="center" class="1 col" style="width: 24px;height: 20px;">H</div>
          <div align="center" class="1 col" style="width: 24px;height: 20px;">I</div>
          <div align="center" class="1 col" style="width: 24px;height: 20px;">J</div>
          <div align="center" class="1 col"></div>
        </div>

        <div class="row" style="border-spacing: 0;margin: 0;">
          <div align="center" class="1 col" style="height: 20px;background: #0e0c0d">1</div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col" style="background: #0e0c0d"></div>
        </div>

        <div class="row" style="border-spacing: 0;margin: 0;">
          <div align="center" class="1 col" style="height: 20px;background: #0e0c0d">2</div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col" style="background: #0e0c0d"></div>
        </div>

        <div class="row" style="border-spacing: 0;margin: 0;">
          <div align="center" class="1 col" style="height: 20px;background: #0e0c0d">3</div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col" style="background: #0e0c0d"></div>
        </div>

        <div class="row" style="border-spacing: 0;margin: 0;">
          <div align="center" class="1 col" style="height: 20px;background: #0e0c0d">4</div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col" style="background: #0e0c0d"></div>
        </div>

        <div class="row" style="border-spacing: 0;margin: 0;">
          <div align="center" class="1 col" style="height: 20px;background: #0e0c0d">5</div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col" style="background: #0e0c0d"></div>
        </div>

        <div class="row" style="border-spacing: 0;margin: 0;">
          <div align="center" class="1 col" style="height: 20px;background: #0e0c0d">6</div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col" style="background: #0e0c0d"></div>
        </div>

        <div class="row" style="border-spacing: 0;margin: 0;">
          <div align="center" class="1 col" style="height: 20px;background: #0e0c0d">7</div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col" style="background: #0e0c0d"></div>
        </div>

        <div class="row" style="border-spacing: 0;margin: 0;">
          <div align="center" class="1 col" style="height: 20px;background: #0e0c0d">8</div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col" style="background: #0e0c0d"></div>
        </div>

        <div class="row" style="border-spacing: 0;margin: 0;">
          <div align="center" class="1 col" style="height: 20px;background: #0e0c0d">9</div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col" style="background: #0e0c0d"></div>
        </div>

        <div class="row" style="border-spacing: 0;margin: 0;">
          <div align="center" class="1 col" style="height: 20px;background: #0e0c0d">10 </div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col quadradoClicavel" style="width: 24px;height: 48px;border:1px solid #971717;"></div>
          <div align="center" class="1 col" style="background: #0e0c0d"></div>
        </div>

      </div>
    </div>

    <div id="div_fotos" class="swiper-container" style="display: none;">
      <div class="swiper-wrapper">
        
        <div class="swiper-slide">
          <img id="recebeFoto1" width="200" />          
        </div>

        <div class="swiper-slide">
          <img id="recebeFoto2" width="200" />          
        </div>

        <div class="swiper-slide">
          <img id="recebeFoto3" width="200" />          
        </div>

      </div>
    </div>

  </div>

  <video controls autoplay></video>
  
  <audio id="musica">
    <source src="media/lageli.ogg" type="audio/ogg">
    <source src="media/lageli.mp3" type="audio/mpeg">
  </audio>

  <audio id="selecionou">
    <source src="media/selecionou.ogg" type="audio/ogg">
    <source src="media/selecionou.mp3" type="audio/mpeg">
  </audio>

  <script src="js/jquery.js"></script>
  <script src="js/RecordRTC.js"></script>
  <script src="js/swiper.min.js"></script>
  <script src="js/adapter-latest.js"></script>
  <script src="js/dados.js"></script>
  <script>

    var mySwiper;
    var dados;
    var arrayEmoji = ['ğŸ‘','ğŸ˜”','â˜ ','ğŸª','ğŸ¤¦','ğŸ»','â™‚','ğŸŒ¿','ğŸ˜‡','ğŸ˜¶','ğŸ‘£','ğŸ‘»','ğŸŒ­','ğŸ™ƒ','ğŸˆ','ğŸ‘€','ğŸ˜¡','ğŸ˜±','ğŸ»','ğŸ‘©','ğŸ»','ğŸ”§','ğŸŒ‚','ğŸ‘ ','ğŸ©','ğŸ','ğŸ¦','ğŸŒ','ğŸŒŸ','ğŸŒˆ','ğŸ”¥','ğŸµ','ğŸ­','ğŸ¾','ğŸ¥…','ğŸš²','ğŸš†','ğŸš‚','ğŸ’»','ğŸ•°','ğŸ““','ğŸ”','ğŸˆ·','ğŸ–','ğŸš§'];
    var boolPlay = false;
    var musica = document.getElementById("musica"); 
    var selecionou = document.getElementById("selecionou"); 

    function jogar(id) {

      var arrayMidias = JSON.parse(localStorage[id]);
      $('#recebeFoto1').attr('src',arrayMidias[0]);
      $('#recebeFoto2').attr('src',arrayMidias[1]);
      $('#recebeFoto3').attr('src',arrayMidias[2]);
      $('#telaCadastro').hide();
      $('#segundaTela').show();
    }

    var arrayMidias = [];
    
    function encontraSalvo(idpessoa) {
      var retorno = false;

      if (typeof localStorage[idpessoa] != 'undefined') {
        retorno = true;
      }

      return retorno;
    }

    function salvaMidia(str_imagem) {
      
      arrayMidias.push(str_imagem);

      if (arrayMidias.length <= 3) {

        localStorage[$('#selectConsultorasCadastro :selected').val()] = JSON.stringify(arrayMidias);
        
        preencheTabela();
      }
    }

    function preencheTabela() {
      var linhas = '';
      for (var i in arrayPessoas) {

        var e = arrayPessoas[i];
        
        if (( encontraSalvo(e.idpessoa) === true )&&(e.idempresa == dados.idempresa)) {

          linhas += '<tr>';
            linhas += '<td>';
              linhas += e.nome;
            linhas += '</td>';

            var arrayFotos = JSON.parse(localStorage[e.idpessoa]);
            for (var i in arrayFotos) {
              var string = arrayFotos[i];
              
              linhas += '<td>';
                linhas += '<img src="'+string+'" width="40">';
              linhas += '</td>';
            }

          if (arrayFotos.length == 3) {

            linhas += '<td><button onclick="jogar('+e.idpessoa+');" class="btn primary">jogar!</button></td>';
          } else {

            linhas += '<td></td>';
          }  
          
          linhas += '</tr>';
        }
      }

      $('#tabelaMidias tbody').html(linhas);
      $('#arquivoMidia').val('');
    }

    function numeroRandomico(maximum, minimum) {
      return Math.floor(Math.random() * (maximum - minimum + 1)) + minimum;
    }
    
    $(function() {
      
      if (typeof localStorage.dados != 'undefined') {
        
        dados = JSON.parse(localStorage.dados);
        $('#telaLogin').hide();
        $('#telaCadastro').show();
        $('#botaoSair').show();
        $('#escondeisso').show();
        $('#botaoSairNome').html(dados.usuario);


        var linhas = '';

        var arrayConsultoras = $.grep(arrayPessoas, function(e){ return e.idempresa == dados.idempresa });

        linhas += '<option value="">Selecione a consultora:</option>';
        for (var i in arrayConsultoras) {
          var e = arrayConsultoras[i];

          linhas += '<option value="'+e.idpessoa+'">'+e.nome+'</option>';
        }

        $('#selectConsultoras').html(linhas);
        $('#selectConsultorasCadastro').html(linhas);
        preencheTabela();
      }
    });

    var video = document.querySelector('video');

    function captureCamera(callback) {
      navigator.mediaDevices.getUserMedia({ audio: false, video: true }).then(function(camera) {
        callback(camera);
      }).catch(function(error) {
        alert('Unable to capture your camera. Please check console logs.');
        console.error(error);
      });
    }

    function stopRecordingCallback() {
      video.src = video.srcObject = null;
      video.src = URL.createObjectURL(recorder.getBlob());
      video.play();
      recorder.camera.stop();
      recorder.destroy();
      recorder = null;
    }

    var recorder; // globally accessible

    document.getElementById('btn-start-recording').onclick = function() {

      boolPlay = true;
      this.disabled = true;
      captureCamera(function(camera) {
        setSrcObject(camera, video);
        video.play();

        recorder = RecordRTC(camera, {
            type: 'video'
        });

        recorder.startRecording();

        // release camera on stopRecording
        recorder.camera = camera;

        document.getElementById('btn-stop-recording').disabled = false;
      });
    };

    document.getElementById('btn-stop-recording').onclick = function() {
      
      $('video').show();
      $('#div_fotos').hide();
      boolPlay = false;
      this.disabled = true;
      recorder.stopRecording(stopRecordingCallback);
    };

    var contaX = 0;
    $('.quadradoClicavel').click(function() {
      
      if (boolPlay === true) {

        if (contaX <= 4) {

          if ($(this).html().length == 0) {

            selecionou.pause();
            selecionou.play();
            $(this).html( arrayEmoji[ numeroRandomico(0,45) ] );
          }
        }

        contaX = 0;
        $('.quadradoClicavel').each(function() {
          if ($(this).html().length > 0) {

            contaX++;
          }
        });

        $('#recebeTotal').html('Tentativas: '+(contaX).toString());

        if (contaX === 5) {
          
          setTimeout(function() {

            $('#div_jogo').hide();
            $('#recebeTotal').hide();
            $('#div_fotos').show(); 
            $('#textoJogo').html('VocÃª nÃ£o econtrou o <span style="color:#ff5b56;">â¤</span> Lageli, mas vocÃª jÃ¡ tinha ele!');
            $('#btn-start-recording').hide();
            $('#btn-stop-recording').show();
            selecionou.pause();
            selecionou.play();
            musica.play();
            mySwiper = new Swiper ('.swiper-container', {
              spaceBetween: 30,
              centeredSlides: true,
              autoplay: {
                delay: 2500,
                disableOnInteraction: false,
              },
              loop: true,
              effect: 'flip' //fade, cube, coverflow, flip
            });
          },3600);
        }
      }
    });

    $('#selectConsultoras').change(function(){
      $('#primeiraTela').hide();
      $('#segundaTela').show();
    });

    $('#btnEntrar').click(function() {
      
      var txtusuario = $('#txtusuario').val();
      var txtsenha = $('#txtsenha').val();

      if ((txtusuario.length > 0) && (txtsenha.length > 0)) {

        var dados_login = $.grep(arrayUsuarios, function(e){ return ((e.usuario == txtusuario)&&(e.senha == txtsenha))});

        if (dados_login.length > 0) {

          localStorage.dados = JSON.stringify(dados_login[0]);
          location.reload();

        } else {
          alert('senha incorreta!');
        }
      } else {

        alert('Preencha os campos corretamente!');
      }

    });

    $('#arquivoMidia').change(function() {
      
      var $i = $( '#arquivoMidia' ), // Put file input ID here
      input = $i[0]; // Getting the element from jQuery
      if ( input.files && input.files[0] ) {
        file = input.files[0]; // The file
        fr = new FileReader(); // FileReader instance
        fr.onload = function () {
          
          if ($('#selectConsultorasCadastro').val().length > 0) {

            salvaMidia(fr.result);
          } else {
            alert('selecione a consultora');
          }

        };
        //fr.readAsText( file );
        fr.readAsDataURL( file );
      } else {
        alert('selecione uma foto!');
      }

    });

  </script>
</body>
</html>

